<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>EduVote Kenya â€” Smart Digital Voting for Schools</title>

  <style>
    body {
      font-family: "Poppins", sans-serif;
      margin: 0;
      padding: 0;
      background: #f9fafc;
      color: #333;
    }

    header {
      background: #1b4d89;
      color: white;
      text-align: center;
      padding: 20px;
      font-size: 28px;
      font-weight: bold;
      letter-spacing: 1px;
    }

    nav {
      background: #163e6f;
      display: flex;
      justify-content: center;
      gap: 30px;
      padding: 10px 0;
    }

    nav a {
      color: white;
      text-decoration: none;
      font-weight: 500;
      transition: 0.3s;
    }

    nav a:hover {
      color: #ffd700;
    }

    .hero {
      text-align: center;
      padding: 80px 20px;
      background: linear-gradient(to right, #1b4d89, #2b68b1);
      color: white;
    }

    .hero h1 {
      font-size: 40px;
      margin-bottom: 15px;
    }

    .hero p {
      font-size: 18px;
      max-width: 600px;
      margin: 0 auto 25px;
    }

    .hero button {
      background: #ffd700;
      color: #1b4d89;
      border: none;
      padding: 12px 25px;
      border-radius: 8px;
      font-weight: bold;
      cursor: pointer;
      transition: 0.3s;
    }

    .hero button:hover {
      background: white;
    }

    .about {
      padding: 60px 20px;
      text-align: center;
    }

    .about h2 {
      color: #1b4d89;
      font-size: 28px;
      margin-bottom: 20px;
    }

    .about p {
      max-width: 700px;
      margin: 0 auto;
      font-size: 17px;
      line-height: 1.7;
    }

    /* ===== Live Feed Section ===== */
    .feed {
      padding: 50px 20px;
      background: #f8f8f8;
      color: #1b4d89;
    }

    .feed h2 {
      font-size: 26px;
      margin-bottom: 20px;
      text-align: center;
    }

    .feed-container {
      max-width: 700px;
      margin: 0 auto;
      background: white;
      border-radius: 12px;
      box-shadow: 0 4px 10px rgba(0,0,0,0.1);
      padding: 20px;
      text-align: left;
    }

    .feed-item {
      border-bottom: 1px solid #eee;
      padding: 10px 0;
    }

    .feed-item:last-child {
      border-bottom: none;
    }

    .badge {
      display: inline-block;
      padding: 3px 8px;
      border-radius: 8px;
      font-size: 12px;
      font-weight: bold;
      color: white;
    }

    .active {
      background: #28a745;
    }

    .closed {
      background: #6c757d;
    }

    footer {
      background: #1b4d89;
      color: white;
      text-align: center;
      padding: 15px;
      font-size: 14px;
      margin-top: 40px;
    }

    @media (max-width: 600px) {
      .hero h1 {
        font-size: 32px;
      }
      nav {
        flex-wrap: wrap;
        gap: 15px;
      }
    }
  </style>
</head>
<body>

  <header>EduVote Kenya</header>

  <nav>
    <a href="#">Home</a>
    <a href="schools.html">Schools</a>
    <a href="results.html">Results</a>
    <a href="about.html">About</a>
  </nav>

  <section class="hero">
    <h1>Smart Digital Voting for Schools</h1>
    <p>Empowering Kenyan schools with a modern, secure, and transparent election system â€” built for fairness and speed.</p>
    <button onclick="window.location.href='schools.html'">Get Started</button>
  </section>

  <section class="about">
    <h2>About EduVote Kenya</h2>
    <p>
      EduVote Kenya is a digital voting platform that allows schools to conduct
      student elections with transparency, real-time results, and zero paper waste.
      Schools can register, manage positions, and monitor results easily â€” all online.
    </p>
  </section>

  <!-- ðŸŸ¢ Live Elections Feed Section -->
  <section class="feed">
    <h2>ðŸŸ¢ Latest Elections</h2>
    <div id="liveFeed" class="feed-container">
      <p>Loading live updates...</p>
    </div>
  </section>

  <footer>
    Powered by EduVote Kenya Â© 2025
  </footer>

  <!-- Firebase Configuration & Script -->
  <script type="module">
    import { initializeApp } from "https://www.gstatic.com/firebasejs/10.13.2/firebase-app.js";
    import { getDatabase, ref, onValue } from "https://www.gstatic.com/firebasejs/10.13.2/firebase-database.js";

    // âœ… Replace these with your Firebase configuration
    const firebaseConfig = {
  apiKey: "AIzaSyD-s-QxMBVWkFVtAeJyfg7eblqPROv3k-I",
  authDomain: "eduvote-kenya.firebaseapp.com",
  databaseURL: "https://eduvote-kenya-default-rtdb.firebaseio.com",
  projectId: "eduvote-kenya",
  storageBucket: "eduvote-kenya.firebasestorage.app",
  messagingSenderId: "564927373169",
  appId: "1:564927373169:web:b9dbd74d1dbbe67a3be0d0"
};
    

    const app = initializeApp(firebaseConfig);
    const db = getDatabase(app);

    const feedRef = ref(db, "schools/");
    const feedContainer = document.getElementById("liveFeed");

    onValue(feedRef, (snapshot) => {
      const data = snapshot.val();
      feedContainer.innerHTML = "";

      if (data) {
        Object.keys(data).forEach((schoolId) => {
          const school = data[schoolId];
          const name = school.schoolName || "Unnamed School";
          const date = school.lastElectionDate || "No recent election";
          const status = school.electionStatus || "Closed";
          const total = school.totalPositions || 0;

          const badgeClass = status === "Active" ? "active" : "closed";

          const div = document.createElement("div");
          div.classList.add("feed-item");
          div.innerHTML = `
            <strong>${name}</strong><br>
            <small>ðŸ—“ ${date} | Positions: ${total} 
            <span class="badge ${badgeClass}">${status}</span></small>
          `;
          feedContainer.appendChild(div);
        });
      } else {
        feedContainer.innerHTML = "<p>No elections recorded yet.</p>";
      }
    });
  </script>

</body>
</html>


