<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>EduVote Kenya Registration</title>
  <style>
    body {
      font-family: 'Poppins', sans-serif;
      max-width: 400px;
      margin: auto;
      background: #f8f9fa;
      padding: 20px;
      border-radius: 10px;
      box-shadow: 0 0 10px #ccc;
    }
    input, button, select {
      width: 100%;
      padding: 10px;
      margin-top: 10px;
      border-radius: 5px;
      border: 1px solid #ddd;
    }
    button {
      background: #007bff;
      color: white;
      border: none;
      cursor: pointer;
    }
    button:hover { background: #0056b3; }
  </style>
</head>
<body>
  <h2>EduVote Kenya Registration</h2>

  <form id="registrationForm">
    <input type="text" id="schoolName" placeholder="School Name" required>
    <input type="text" id="county" placeholder="County" required>
    <input type="text" id="contactName" placeholder="Contact Name" required>
    <input type="tel" id="phone" placeholder="Phone Number" required>
    <input type="email" id="email" placeholder="Email" required>
    <input type="number" id="studentsCount" placeholder="Students Count" required>
    <input type="text" id="verificationCode" placeholder="Verification Code" required>
    <input type="text" id="paymentRef" placeholder="Payment Reference" required>
    <button type="submit">Register School</button>
  </form>

  <p id="message"></p>

  <!-- Firebase SDKs -->
  <script src="https://www.gstatic.com/firebasejs/11.0.1/firebase-app.js"></script>
  <script src="https://www.gstatic.com/firebasejs/11.0.1/firebase-database.js"></script>

  <script>
    // Your Firebase configuration
    const firebaseConfig = {
      apiKey: "YOUR_API_KEY",
      authDomain: "eduvote-kenya.firebaseapp.com",
      databaseURL: "https://eduvote-kenya-default-rtdb.firebaseio.com",
      projectId: "eduvote-kenya",
      storageBucket: "eduvote-kenya.appspot.com",
      messagingSenderId: "YOUR_SENDER_ID",
      appId: "YOUR_APP_ID"
    };
    firebase.initializeApp(firebaseConfig);
    const database = firebase.database();

    // Save form data
    document.getElementById('registrationForm').addEventListener('submit', function(e) {
      e.preventDefault();

      const schoolData = {
        schoolName: document.getElementById('schoolName').value,
        county: document.getElementById('county').value,
        contactName: document.getElementById('contactName').value,
        phone: document.getElementById('phone').value,
        email: document.getElementById('email').value,
        studentsCount: document.getElementById('studentsCount').value,
        verificationCode: document.getElementById('verificationCode').value,
        paymentRef: document.getElementById('paymentRef').value,
        timestamp: new Date().toISOString()
      };

      firebase.database().ref('schools').push(schoolData)
        .then(() => {
          document.getElementById('message').innerText = "✅ Registration successful!";
          document.getElementById('registrationForm').reset();
        })
        .catch(error => {
          document.getElementById('message').innerText = "❌ Error: " + error.message;
        });
    });
  </script>
</body>
</html>
